

<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <title>Ubuntu 开机自动挂载硬盘至指定位置 - 鼠熊部落格</title>
  
  <!-- stylesheets list from _config.yml -->
  
  <link rel="stylesheet" href="/css/chippy.css">
  
  
<meta name="generator" content="Hexo 7.1.1"></head>

<body>
  <nav class="menu-outer">
    <div class="menu-inner">
      
      <a class="menu-inner-item" href="/">
        <span class="menu-inner-item-icon"></span>
        <span class="menu-inner-item-text">首页</span>
      </a>
      
      <a class="menu-inner-item" href="/about">
        <span class="menu-inner-item-icon"></span>
        <span class="menu-inner-item-text">关于我</span>
      </a>
      
      <a class="menu-inner-item" href="/archives">
        <span class="menu-inner-item-icon"></span>
        <span class="menu-inner-item-text">归档</span>
      </a>
      
    </div>
  </nav>

  <header class="header-outer">
    <div class="header-inner">
      <div class="header-info">
        
        <h1 class="header-info-title">
          Chipmunk &amp; Panda
        </h1>
        
        
        <h3 class="header-info-subtitle">
          -- 鼠熊部落格
        </h3>
        
        
        <p class="header-info-motto">
          All work and no play makes Jack a dull boy.
        </p>
        
        <div class="header-info-contact">
          <a target="_blank" rel="noopener" href="https://github.com/SummerDiver" class="header-info-contact-icon">
            <i class="icon-github"></i>
          </a>
          <a target="_blank" rel="noopener" href="https://weibo.com/u/7390819624" class="header-info-contact-icon">
            <i class="icon-sina-weibo"></i>
          </a>
          <a href="mailto:summerdiver@yeah.net" class="header-info-contact-icon">
            <i class="icon-mail4"></i>
          </a>
          <a href="" class="header-info-contact-icon" onclick="return false">
            <i class="icon-IE"></i>
          </a>
        </div>
      </div>
      <a href="#content" class="header-arrow">
        <i class="icon-forward2"></i>
      </a>
    </div>
  </header>

  <div id="content" class="content-outer clearfix">
    <aside id="content-aside" class="content-aside">
      

<div class="aside-card aside-toc">
  <h3>文章目录</h3>
  <div class="toc-content">
    <ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#1-%E6%9F%A5%E7%9C%8B%E7%A1%AC%E7%9B%98%E4%BF%A1%E6%81%AF"><span class="post-toc-number">1.</span> <span class="post-toc-text">1 查看硬盘信息</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#2-%E5%88%9B%E5%BB%BA%E6%8C%82%E8%BD%BD%E7%82%B9%E5%B9%B6%E6%8C%82%E8%BD%BD"><span class="post-toc-number">2.</span> <span class="post-toc-text">2 创建挂载点并挂载</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#3-%E6%8C%82%E8%BD%BD%E7%82%B9%E5%B7%B2%E6%9C%89%E5%86%85%E5%AE%B9"><span class="post-toc-number">3.</span> <span class="post-toc-text">3 挂载点已有内容</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#4-%E8%87%AA%E5%8A%A8%E6%8C%82%E8%BD%BD"><span class="post-toc-number">4.</span> <span class="post-toc-text">4 自动挂载</span></a></li></ol>
  </div>
</div>


<div class="aside-card aside-ov">
  <div class="author">
    <div class="author-avatar">
      <img src="/images/avatar.jpg">
    </div>
    <h4 class="author-name">暑熊</h4>
    <p class="author-motto">自家慢诩便便腹，开卷方知未读书。</p>
  </div>
  <div class="divider-horizontal"></div>
  <div class="site-state">
    <a class="site-state-item" href="/archives">
      <span class="site-state-item-count">21</span>
      <span class="site-state-item-name">归档</span>
    </a>
    <div class="divider-vertical"></div>
    <a class="site-state-item" href="/categories">
      <span class="site-state-item-count">5</span>
      <span class="site-state-item-name">分类</span>
    </a>
    <div class="divider-vertical"></div>
    <a class="site-state-item" href="/tags">
      <span class="site-state-item-count">17</span>
      <span class="site-state-item-name">标签</span>
    </a>
  </div>
  <div class="divider-horizontal"></div>
  <div class="friends">
    <div>
      <i class="icon-link"></i>&nbsp;友情链接
    </div>
    
    <div class="no-friends">
      <span class="icon-tongue"></span><br>
      <span>朋友都没有，好像一条狗</span>
    </div>
    
    <ul class="friends-list">
      
    </ul>
  </div>
</div>
    </aside>
    <main class="content-inner">
      <article id="post">
  <div class="post-header">
  
  <h1 class="post-title" href="/2024/03/02/Ubuntu%E5%BC%80%E6%9C%BA%E8%87%AA%E5%8A%A8%E6%8C%82%E8%BD%BD%E7%A1%AC%E7%9B%98%E8%87%B3%E6%8C%87%E5%AE%9A%E4%BD%8D%E7%BD%AE/">Ubuntu 开机自动挂载硬盘至指定位置</h1>
  

  <div class="post-meta">
    <time class="post-date" datetime="2024-03-02T08:11:12.000Z">
      <i class="icon-calendar"></i>&nbsp;2024-03-02
    </time>

    
    <span class="post-categories">
      <i class="icon-folder">&nbsp;</i>
      <a class="post-category-link" href="/categories/%E9%97%AE%E9%A2%98%E8%AE%B0%E5%BD%95/">问题记录</a>
    </span>
    

    
    <span class="post-tags">
      <i class="icon-price-tags">&nbsp;</i>
      <a class="post-tag-link" href="/tags/Linux/" rel="tag">#Linux</a>&nbsp;<a class="post-tag-link" href="/tags/Ubuntu/" rel="tag">#Ubuntu</a>
    </span>
    
  </div>
</div>
  
  <h1 id="1-查看硬盘信息"><a href="#1-查看硬盘信息" class="headerlink" title="1 查看硬盘信息"></a>1 查看硬盘信息</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ sudo fdisk -l<br>Disk /dev/sda: 893.75 GiB, 959656755200 bytes, 1874329600 sectors<br>Disk model: INSPUR<br>Units: sectors of 1 * 512 = 512 bytes<br>Sector size (logical/physical): 512 bytes / 4096 bytes<br>I/O size (minimum/optimal): 262144 bytes / 262144 bytes<br>Disklabel <span class="hljs-built_in">type</span>: gpt<br>Disk identifier: 38B2784A-716D-44E3-8D03-F0DFD8398BF7<br><br>Device       Start        End    Sectors   Size Type<br>/dev/sda1     2048    1050623    1048576   512M EFI System<br>/dev/sda2  1050624 1874327551 1873276928 893.2G Linux filesystem<br><br><br>Disk /dev/sdb: 8.73 TiB, 9599654559744 bytes, 18749325312 sectors<br>Disk model: INSPUR<br>Units: sectors of 1 * 512 = 512 bytes<br>Sector size (logical/physical): 512 bytes / 4096 bytes<br>I/O size (minimum/optimal): 262144 bytes / 262144 bytes<br>Disklabel <span class="hljs-built_in">type</span>: gpt<br>Disk identifier: E3474383-72AE-1548-9A45-2082C0BD0FEF<br><br>Device     Start         End     Sectors  Size Type<br>/dev/sdb1   2048 18749325278 18749323231  8.7T Linux filesystem<br></code></pre></td></tr></table></figure>

<p>大约有如上信息，根据分区大小等判断需要挂载的硬盘的位置。示例选择 <code>/dev/sdb1</code>。</p>
<h1 id="2-创建挂载点并挂载"><a href="#2-创建挂载点并挂载" class="headerlink" title="2 创建挂载点并挂载"></a>2 创建挂载点并挂载</h1><p>一般情况下，需要创建一个目录作为挂载点。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ sudo <span class="hljs-built_in">mkdir</span> /mnt/data<br></code></pre></td></tr></table></figure>

<p>接下来，执行命令将硬盘挂载至挂载点，即可通过挂载点访问硬盘。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ sudo mount /dev/sdb1 /mnt/data<br></code></pre></td></tr></table></figure>

<p>卸载硬盘则使用 <code>umount</code> 命令。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ sudo umount /mnt/data<br></code></pre></td></tr></table></figure>

<p><code>umount</code> 既可以卸载挂载点，也可以卸载设备，二者等效。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ sudo umount /dev/sdb1<br></code></pre></td></tr></table></figure>

<h1 id="3-挂载点已有内容"><a href="#3-挂载点已有内容" class="headerlink" title="3 挂载点已有内容"></a>3 挂载点已有内容</h1><p>对待挂载点已有内容的情况（如挂载至 <code>/home</code>），挂载会暂时将原内容隐藏，直到卸载挂载点。</p>
<h1 id="4-自动挂载"><a href="#4-自动挂载" class="headerlink" title="4 自动挂载"></a>4 自动挂载</h1><p>可以通过配置 <code>/etc/fstab</code> 文件实现开机自动挂载。</p>
<p>选择自己喜欢的编辑器（如 vim）打开文件，内容类似：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ sudo vim /etc/fstab<br><span class="hljs-comment"># /etc/fstab: static file system information.</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># Use &#x27;blkid&#x27; to print the universally unique identifier for a</span><br><span class="hljs-comment"># device; this may be used with UUID= as a more robust way to name devices</span><br><span class="hljs-comment"># that works even if disks are added and removed. See fstab(5).</span><br><span class="hljs-comment">#</span><br><span class="hljs-comment"># &lt;file system&gt; &lt;mount point&gt;   &lt;type&gt;  &lt;options&gt;       &lt;dump&gt;  &lt;pass&gt;</span><br><span class="hljs-comment"># / was on /dev/sda2 during installation</span><br>UUID=c3610f52-3ec7-46a2-9f1d-6cf49a3cf676 /               ext4    errors=remount-ro 0       1<br><span class="hljs-comment"># /boot/efi was on /dev/sda1 during installation</span><br>UUID=F14C-F088  /boot/efi       vfat    <span class="hljs-built_in">umask</span>=0077      0       1<br>/swapfile                                 none            swap    sw              0       0<br></code></pre></td></tr></table></figure>

<p>根据注释，在文件末尾加入挂载信息（相关项根据实际情况配置）即可。</p>
<ul>
<li><code>&lt;file system&gt;</code>：指定要挂载的设备或分区的路径。可以是块设备文件（如 &#x2F;dev&#x2F;sdb1）、UUID（唯一标识符）、标签（partition label）等。这是挂载的源，表示从哪里读取文件系统。</li>
</ul>
<p>注：UUID 可以通过 <code>sudo blkid</code> 命令查看。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ sudo blkid<br><span class="hljs-comment"># ...</span><br>/dev/sdb1: UUID=<span class="hljs-string">&quot;e3e3e3e3-3e3e-3e3e-3e3e-3e3e3e3e3e3e&quot;</span> TYPE=<span class="hljs-string">&quot;ext4&quot;</span> PARTLABEL=<span class="hljs-string">&quot;Linux filesystem&quot;</span> PARTUUID=<span class="hljs-string">&quot;e3474383-72ae-1548-9a45-2082c0bd0fef&quot;</span><br></code></pre></td></tr></table></figure>

<ul>
<li><code>&lt;mount point&gt;</code>：指定挂载点，即文件系统要被挂载到的目录。这是文件系统的目的地，文件系统的内容将在该目录下可见。</li>
<li><code>&lt;type&gt;</code>：指定文件系统的类型，例如 ext4、ntfs、vfat 等。这表示挂载的文件系统使用的文件系统类型。</li>
<li><code>&lt;options&gt;</code>：指定挂载时使用的选项。这可以包括各种挂载选项，例如读写权限、用户权限、自动挂载等。多个选项之间用逗号分隔。</li>
<li><code>&lt;dump&gt;</code>：这个字段用于设置文件系统备份工具 dump 的行为。通常情况下，这个值设置为 0，表示不备份。如果设置为 1，表示应该备份。</li>
<li><code>&lt;pass&gt;</code>：这个字段用于设置文件系统检查顺序。如果设置为 0，表示不进行文件系统检查。如果设置为大于 0 的值，表示在文件系统检查时的顺序，数字越小越早检查。</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># /etc/fstab</span><br><span class="hljs-comment"># ...</span><br>UUID=<span class="hljs-string">&quot;e3e3e3e3-3e3e-3e3e-3e3e-3e3e3e3e3e3e&quot;</span> /mnt/data ext4 defaults 0 2<br></code></pre></td></tr></table></figure>

<p>保存文件，重启系统即可。也可以手动执行挂载操作以测试。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ sudo mount -a<br></code></pre></td></tr></table></figure>

<p>可以使用 <code>df</code> 命令查看挂载情况。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ <span class="hljs-built_in">df</span> -h<br><span class="hljs-comment"># ...</span><br>/dev/sdb1       8.7T  315G  8.0T   4% /home<br></code></pre></td></tr></table></figure>

  
  
  
  <div class="post-nav">
    <div class="post-nav-item">
      
    </div>
    <div class="post-nav-item">
      
      <a href="/2023/11/16/Windows%E4%B8%8B%E7%AB%AF%E5%8F%A3%E4%B8%8D%E5%8F%AF%E7%94%A8%E7%9A%84%E5%8F%AF%E8%83%BD%E6%83%85%E5%86%B5%E8%A7%A3%E5%86%B3/" rel="next" title="Windows 下端口不可用的可能情况解决">
        Windows 下端口不可用的可能情况解决&nbsp;<i class="icon-arrow_forward_ios"></i>
      </a>
      
    </div>
  </div>
  
</article>
    </main>
  </div>

  <footer class="footer-outer">
    <div class="footer-inner">
      <div class="copyright">
        Copyright © 2021~2024 <a target="_blank" rel="noopener" href="https://github.com/SummerDiver"><i class="icon-pacmanr"></i>&nbsp;暑熊&nbsp;<i class="icon-pacmanl"></i></a> <br>
        Powered by <a target="_blank" rel="noopener" href="http://hexo.io">Hexo<i class="icon-new-tab"></i></a>
        <br>
      </div>
    </div>
  </footer>

  
  <!-- scripts list from theme config.yml -->
  
  <script src="/js/jquery-3.6.0.min.js"></script>
  
  <script src="/js/chippy.js"></script>
  
  <script src="/js/menubar.js"></script>
  
  <script src="/js/toc.js"></script>
  
  
</body>

</html>